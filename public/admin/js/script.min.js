$(document).ready(function(){showHideActionsButtons();confirmDeleteCustom();uploadImagePreview();uploadImagesMultiplePreview();resizeImagesMultiplePreview();showHideFormPage();generateUniqueProfessionalId();processStock();$('[data-toggle="tooltip"]').tooltip();$(window).resize(function(){showHideActionsButtons();resizeImagesMultiplePreview()});$("a:not(.dropdown-toggle), .btn").click(function(){Pace.restart()})});function showHideActionsButtons(){if($(window).width()>=1200){$(".top-right").hide();$(".content").hover(function(){$(this).find(".top-right").show()},function(){$(".top-right").hide()})}else{$(".top-right").show()}}function confirmDeleteCustom(){$("a[data-bb='confirm']").click(function(){var a=$(this);bootbox.confirm({size:"small",message:"Voules-vous supprimer?",buttons:{confirm:{label:"Oui",className:"btn-danger"},cancel:{label:"Non"}},callback:function(b){if(b==true){$("#form_"+a.data("id")).submit()}}})})}function uploadImagePreview(){$("#uploadFile").on("change",function(){var b=!!this.files?this.files:[];if(!b.length||!window.FileReader){return}if(/^image/.test(b[0].type)){var a=new FileReader();a.readAsDataURL(b[0]);a.onloadend=function(){$("#imagePreview").css("background-image","url("+this.result+")");$("#imagePreview").append('<div onclick="removeImagePreview(this)" class="position-center"><a class="btn btn-xs btn-danger"><span class="fa fa-times"></span></a></div>')}}})}function removeImagePreview(a){$("#imagePreview").children().remove();$("#imagePreview").css("background-image","url(http://placehold.it/100x100?text=/)");$("#uploadFile").val("");$("#remove_photo").val(true)}var finalFiles={};function uploadImagesMultiplePreview(){$("#imagesPreview").on("change",function(d){finalFiles={};$("[id^=file_]").remove();var c=this.files;$.each(c,function(e,f){finalFiles[e]=f});for(var b=0;b<c.length;b++){if(/^image/.test(c[b].type)){var a=new FileReader();a.readAsDataURL(c[b]);a.i=b;a.onloadend=function(g,f){$("#filename").append('<div id="file_'+g.target.i+'" class="col-lg-2 col-md-2 col-sm-4 col-xs-6 m-b-15"><div class="img-circle imagePreview" style="background-image:url('+g.target.result+');"><div class="position-center"><a onclick="removeImageMultiplePreview(this)" class="btn btn-xs btn-danger"><span class="fa fa-times"></span></a></div></div></div>');resizeImagesMultiplePreview()}}}})}function resizeImagesMultiplePreview(){$("#filename .imagePreview").each(function(){$(this).css({height:$(this).width()+"px"})})}function removeImageMultiplePreview(c){$("#imagesPreview").val("");var b=$(c).parent().parent().parent();var a=b.attr("id").split("_")[1];b.remove();delete finalFiles[a]}function removeImageExistsPreview(b){var a=$(b).parent().parent().parent();var c=$("#remove_photos").val();if(c.length!=0){c+="-"}c+=a.attr("id");$("#remove_photos").val(c);a.remove()}function showHideFormPage(){hideFormsPage();processFormsPage();$("#typesPages").on("change",function(a){clearFormsPage();processFormsPage()})}function hideFormsPage(){$(".typeAccueil").hide();$(".typeArticle").hide();$(".typeList").hide();$(".typeContact").hide();$(".typeFooter").hide()}function processFormsPage(){if($("#typesPages option:selected").val()==1){changeClassPage("col-lg-12 col-md-12 col-sm-12 col-xs-12");hideFormsPage();$(".typeAccueil").show()}else{if($("#typesPages option:selected").val()==2){changeClassPage("col-lg-9 col-md-8 col-sm-8 col-xs-12");hideFormsPage();$(".typeArticle").show()}else{if($("#typesPages option:selected").val()==3){changeClassPage("col-lg-12 col-md-12 col-sm-12 col-xs-12");hideFormsPage();$(".typeList").show()}else{if($("#typesPages option:selected").val()==4){changeClassPage("col-lg-12 col-md-12 col-sm-12 col-xs-12");hideFormsPage();geoComplete();$(".typeContact").show()}else{if($("#typesPages option:selected").val()==5){changeClassPage("col-lg-12 col-md-12 col-sm-12 col-xs-12");hideFormsPage();$(".typeFooter").show()}}}}}}function changeClassPage(a){$("#gridAnim").removeClass();$("#gridAnim").addClass(a)}function clearFormsPage(){$(".typeAccueil input, .typeArticle input, .typeArticle textarea, .typeList input, .typeContact input, .typeFooter input").val("");$("#visible").prop("checked",0);$("#imagesPreview").val("");$("[id^=file_]").remove()}function geoComplete(){var a={zoom:10,center:new google.maps.LatLng(43.1167,6.1167),streetViewControl:false,mapTypeControlOptions:{mapTypeIds:[]},styles:[{elementType:"geometry",stylers:[{hue:"#ff4400"},{saturation:-68},{lightness:-4},{gamma:0.72}]},{featureType:"road",elementType:"labels.icon"},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{hue:"#0077ff"},{gamma:3.1}]},{featureType:"water",stylers:[{hue:"#00ccff"},{gamma:0.44},{saturation:-33}]},{featureType:"poi.park",stylers:[{hue:"#44ff00"},{saturation:-23}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{hue:"#007fff"},{gamma:0.77},{saturation:65},{lightness:99}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{gamma:0.11},{weight:5.6},{saturation:99},{hue:"#0091ff"},{lightness:-86}]},{featureType:"transit.line",elementType:"geometry",stylers:[{lightness:-48},{hue:"#ff5e00"},{gamma:1.2},{saturation:-23}]},{featureType:"transit",elementType:"labels.text.stroke",stylers:[{saturation:-64},{hue:"#ff9100"},{lightness:16},{gamma:0.47},{weight:2.7}]}]};var b=new google.maps.Map(document.getElementById("map"),a);$("#address").geocomplete({map:"#map",mapOptions:a,markerOptions:{draggable:true,position:new google.maps.LatLng($("#latitude").val(),$("#longitude").val())}}).bind("geocode:result",function(d,c){$("#latitude").val(c.geometry.location.lat());$("#longitude").val(c.geometry.location.lng())}).bind("geocode:dragged",function(d,c){$("#latitude").val(c.lat());$("#longitude").val(c.lng())})}function generateUniqueProfessionalId(){if($("#codeProfessional").val()==""){generateCode()}$("#generateUniqueId").click(function(){generateCode()})}function generateCode(){var b="";var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@";for(i=0;i<8;i++){b+=a.charAt(Math.floor(Math.random()*a.length))}$("#codeProfessional").val(b)}function processStock(){$(".processStock").each(function(a,b){if(!$(b).find("input[type=checkbox]").is(":checked")){$(b).find("input[type=text]").attr("disabled",true)}else{$(b).find("input[type=text]").attr("disabled",false)}$(b).find("input[type=checkbox]").click(function(){if($(this).is(":checked")){$(b).find("input[type=text]").attr("disabled",false);$(b).find("input[type=text]").val(0)}else{$(b).find("input[type=text]").attr("disabled",true);$(b).find("input[type=text]").val("")}})})};